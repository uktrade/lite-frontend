!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var l=e[n];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}function n(t,n,l){return n&&e(t.prototype,n),l&&e(t,l),t}var l,i,r,o,s,u="Select all",a=function(){"use strict";function e(n,l){t(this,e),this.$selectAllButton=n,this.$checkboxes=l,this.isAllSelected=!1}return n(e,[{key:"init",value:function(){var t=this;this.$selectAllButton.addEventListener("click",(function(e){return t.handleSelectAllButtonClick(e)}));var e=!0,n=!1,l=void 0;try{for(var i,r=this.$checkboxes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.addEventListener("input",(function(){return t.setSelectAll()}))}}catch(t){n=!0,l=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw l}}this.setSelectAll()}},{key:"handleSelectAllButtonClick",value:function(t){t.preventDefault(),this.setCheckboxesChecked(!this.isAllSelected)}},{key:"setCheckboxesChecked",value:function(t){var e=!0,n=!1,l=void 0;try{for(var i,r=this.$checkboxes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;o.checked=t,o.dispatchEvent(new Event("input"))}}catch(t){n=!0,l=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw l}}}},{key:"getNumChecked",value:function(){var t=0,e=!0,n=!1,l=void 0;try{for(var i,r=this.$checkboxes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){t+=i.value.checked?1:0}}catch(t){n=!0,l=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw l}}return t}},{key:"setSelectAll",value:function(){this.getNumChecked()===this.$checkboxes.length?(this.$selectAllButton.textContent="Deselect all",this.isAllSelected=!0):(this.$selectAllButton.textContent=u,this.isAllSelected=!1)}}]),e}(),c="Show all",d=function(){"use strict";function e(n,l){t(this,e),this.$expandAllButton=n,this.$details=l,this.isAllExpanded=!1}return n(e,[{key:"init",value:function(){var t=this;this.$expandAllButton.addEventListener("click",(function(e){return t.handleExpandAllButtonClick(e)}));var e=!0,n=!1,l=void 0;try{for(var i,r=this.$details[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.addEventListener("toggle",(function(){return t.setExpandAll()}))}}catch(t){n=!0,l=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw l}}this.setExpandAll()}},{key:"handleExpandAllButtonClick",value:function(t){t.preventDefault(),this.setDetailsOpen(!this.isAllExpanded)}},{key:"setDetailsOpen",value:function(t){var e=!0,n=!1,l=void 0;try{for(var i,r=this.$details[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;o.open=t,o.dispatchEvent(new Event("toggle"))}}catch(t){n=!0,l=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw l}}}},{key:"getNumOpened",value:function(){var t=0,e=!0,n=!1,l=void 0;try{for(var i,r=this.$details[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){t+=i.value.open?1:0}}catch(t){n=!0,l=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw l}}return t}},{key:"setExpandAll",value:function(){this.getNumOpened()===this.$details.length?(this.$expandAllButton.textContent="Hide all",this.isAllExpanded=!0):(this.$expandAllButton.textContent=c,this.isAllExpanded=!1)}}]),e}(),h=function(){"use strict";function e(n){t(this,e),this.$headline=n}return n(e,[{key:"getText",value:function(t){if(1===t.length){var e=t[0].name;return"Assessing ".concat(e)}return"Assessing ".concat(t.length," products")}},{key:"setProducts",value:function(t){this.$headline.textContent=this.getText(t)}}]),e}(),f=h,v=function(){"use strict";function e(n,l,i){t(this,e),this.$checkboxes=n,this.onSelectProducts=i,this.products={};var r=!0,o=!1,s=void 0;try{for(var u,a=l[Symbol.iterator]();!(r=(u=a.next()).done);r=!0){var c=u.value;this.products[c.id]=c}}catch(t){o=!0,s=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw s}}}return n(e,[{key:"init",value:function(){var t=this,e=!0,n=!1,l=void 0;try{for(var i,r=this.$checkboxes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.addEventListener("input",(function(){t.onSelectProducts(t.getSelectedProducts())}))}}catch(t){n=!0,l=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw l}}this.onSelectProducts(this.getSelectedProducts())}},{key:"getSelectedProducts",value:function(){var t=[],e=!0,n=!1,l=void 0;try{for(var i,r=this.$checkboxes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value;o.checked&&t.push(this.products[o.value])}}catch(t){n=!0,l=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw l}}return t}}]),e}(),y=v,k=function(){"use strict";function e(n,l,i){t(this,e),this.$checkboxes=n,this.$elementToToggleClass=l,this.toggleClass=i}return n(e,[{key:"init",value:function(){var t=this,e=!0,n=!1,l=void 0;try{for(var i,r=this.$checkboxes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){i.value.addEventListener("input",(function(e){return t.handleCheckboxInput(e)}))}}catch(t){n=!0,l=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw l}}this.setClass()}},{key:"handleCheckboxInput",value:function(){this.setClass()}},{key:"getNumChecked",value:function(){var t=0,e=!0,n=!1,l=void 0;try{for(var i,r=this.$checkboxes[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){t+=i.value.checked?1:0}}catch(t){n=!0,l=t}finally{try{e||null==r.return||r.return()}finally{if(n)throw l}}return t}},{key:"setClass",value:function(){var t=0===this.getNumChecked();this.$elementToToggleClass.classList.toggle(this.toggleClass,t)}}]),e}(),m=function(){"use strict";function e(n){t(this,e),this.$button=n}return n(e,[{key:"init",value:function(){var t=this;this.$button.addEventListener("click",(function(e){return t.handleClick(e)}))}},{key:"handleClick",value:function(){var t=this;setTimeout((function(){return t.$button.disabled=!0}),0)}}]),e}();!function(){var t=document.querySelector("#div_id_goods");if(t){var e=function(t){var e=document.createElement("div");return e.classList.add("assessment-form__first-column--options"),t.insertBefore(e,t.firstElementChild.nextElementSibling),e}(t),n=function(t){var e=document.createElement("button");e.innerText=u,e.classList.add("lite-button--link","assessment-form__select-all");var n=t.querySelectorAll("[name=goods]");return new a(e,n).init(),e}(t),l=function(t){var e=document.createElement("button");e.innerText=c,e.classList.add("lite-button--link");var n=t.querySelectorAll(".govuk-details");return new d(e,n).init(),e}(t);e.append(n,l)}}(),function(){var t=document.querySelector("#div_id_goods");if(t){var e=t.querySelectorAll("[name=goods]"),n=document.querySelector(".assessment-form__second-column");new k(e,n,"assessment-form__second-column--hide").init()}}(),l=document.querySelector(".assessment-form__headline"),i=new f(l),r=document.querySelector("#div_id_goods").querySelectorAll("[name=goods]"),o=JSON.parse(document.querySelector("#unassessed-trigger-list-goods-json").textContent),new y(r,o,(function(t){i.setProducts(t)})).init(),s=document.querySelector("#submit-id-submit"),new m(s).init()}();
//# sourceMappingURL=beis.js.map
