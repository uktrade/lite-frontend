{"version":3,"sources":["../../../node_modules/url-search-params-polyfill/index.js","../../../node_modules/fetch-polyfill/fetch.js","../../../node_modules/@tarekraafat/autocomplete.js/dist/js/autoComplete.min.js","../../../node_modules/events/events.js","../../../node_modules/tokenfield/lib/ajax.js","../../../node_modules/tokenfield/lib/tokenfield.js","review-good.js"],"names":["a","b","e","t","n","length","i","enumerable","configurable","writable","Object","defineProperty","key","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","c","arguments","r","forEach","value","getOwnPropertyDescriptors","defineProperties","Array","l","Symbol","iterator","isArray","prototype","toString","call","slice","constructor","name","from","test","s","done","f","TypeError","o","next","return","u","document","getElementsByClassName","resultsList","className","inputField","parentNode","removeChild","removeAttribute","setAttribute","createElement","element","idName","container","destination","querySelector","insertAdjacentElement","position","results","resultItem","concat","innerHTML","match","content","addEventListener","event","matches","input","query","selection","index","onSelection","appendChild","d","dispatchEvent","CustomEvent","bubbles","detail","cancelable","searchEngine","diacritics","toLowerCase","normalize","replace","highlight","join","includes","RegExp","exec","data","store","sort","T","selector","observer","src","cache","h","p","m","v","trigger","g","y","condition","L","F","C","k","A","E","threshold","N","w","debounce","x","j","O","render","I","S","P","navigation","placeHolder","maxResults","noResults","feedback","preInit","init","preventDefault","id","srcElement","classList","remove","add","getElementById","removeEventListener","getElementsByTagName","keyCode","click","autoCompleteNavigate","target","Promise","then","HTMLInputElement","HTMLTextAreaElement","manipulate","dataStore","start","hook","compose","clearTimeout","setTimeout","MutationObserver","disconnect","observe","childList","subtree","exports","module","define","amd","globalThis","self","autoComplete","ReflectOwnKeys","R","Reflect","ReflectApply","receiver","args","Function","ProcessEmitWarning","warning","console","warn","ownKeys","getOwnPropertyNames","NumberIsNaN","Number","isNaN","EventEmitter","once","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","_getMaxListeners","that","_addListener","type","prepend","events","existing","create","newListener","emit","unshift","warned","Error","String","emitter","count","onceWrapper","fired","removeListener","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","arr","copy","spliceOne","list","pop","ret","resolve","reject","eventListener","errorListener","err","get","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","handler","len","listeners","addListener","on","prependListener","prependOnceListener","originalListener","shift","off","removeAllListeners","rawListeners","eventNames","ajax","params","options","callback","xhr","XMLHttpRequest","url","paramsArr","encodeURIComponent","paramsString","open","header","headers","setRequestHeader","onreadystatechange","send","Tokenfield","_tokenfields","reRegExpChar","reHasRegExpChar","source","_factory","_templates","containerTokenfield","containerList","suggestItem","setItem","guid","Math","random","item","indexOf","getPath","node","nodes","findElement","nodeName","build","html","all","childNodes","result","Infinity","keyToChar","keyIdentifier","fromCharCode","parseInt","substr","escapeRegex","string","makeDefaultsAndOptions","_defaults","focusedItem","timer","suggested","suggestedItems","setItems","delimiters","_options","el","form","mode","addItemOnBlur","addItemsOnPaste","keepItemsOrder","items","newItems","multiple","maxItems","minLength","matchRegex","matchFlags","matchStart","matchEnd","copyProperty","copyDelimiter","remote","queryParam","delay","timestampParam","placeholder","inputType","minChars","maxSuggest","maxSuggestWindow","filterSetItems","filterMatchCase","singleInput","singleInputValue","singleInputDelimiter","itemLabel","itemName","newItemName","itemValue","newItemValue","itemData","validateNewItem","_vars","assign","templates","_prepareData","remapData","_focused","_input","_form","_html","delimiter","tokenfield","_render","suggest","suggestList","copyHelper","style","display","_renderSizer","parentElement","insertBefore","firstChild","_setEvents","_renderItems","_resizeInput","_getBounds","window","getComputedStyle","compensate","paddingLeft","paddingRight","styles","width","height","overflow","whiteSpace","maxWidth","top","left","fontSize","sizer","_minimizeInput","_refreshInput","empty","val","borderRightWidth","fullCompensate","borderLeftWidth","sb","getBoundingClientRect","ib","rw","_fetchData","reqData","limit","round","Date","getTime","readyState","status","response","JSON","parse","responseText","_filterData","_filterSetItems","showSuggestions","_abortXhr","map","regex","pattern","abort","setKeys","onClick","_onClick","onMouseDown","_onMouseDown","onMouseOver","_onMouseOver","onFocus","_onFocus","onResize","_onResize","onReset","_onReset","onKeyDown","_onKeyDown","onFocusOut","_onFocusOut","contains","querySelectorAll","_selectItem","_refreshItemsSelection","onPaste","_onPaste","trim","relatedTarget","canAddItem","_newItem","_defocusItems","hideSuggestions","blur","clipboardData","getData","tokens","search","splitRegex","split","token","_deselectItems","_keyAction","_refreshItems","_keyInput","keyName","keyChar","selected","_getSelectedItems","_selectPrevItem","_selectNextItem","getFocusedItems","selectionStart","selectionEnd","_focusPrevItem","shiftKey","_focusNextItem","onInput","_addItem","focus","_refreshSuggestions","ctrlKey","metaKey","focused","focusedItems","_copy","_delete","copyString","select","execCommand","_removeItem","_focusItem","_getSuggestedItem","_getSelectedItemIndex","_getFocusedItemIndex","lastFocused","_defocusItem","setIds","scroll","maxHeight","listBounds","elBounds","bottom","scrollTop","_deselectItem","every","last","_getItem","prop","_filterItems","_getAvailableItem","matchCase","splice","isNew","clonedItem","getFocusedItem","ctrl","first","min","max","_buildEl","itemEl","_renderItem","itemHtml","renderSetItemHtml","label","textContent","renderSetItemLabel","renderSuggestions","child","renderSuggestedItem","replaceChild","childElementCount","renderSuggestedItemContent","setSuggestedItems","getItems","addItems","sortItems","removeItem","emptyItems","getSuggestedItems","inputElementId","inputElement","fetch","json","parsed","hideSearchResults","searchResults","text","record","controlListEntriesField","controlRationgField","progressivelyEnhanceMultipleSelectField","controlListEntriesTokenFieldInfo","option","tokenField","note","messages"],"mappings":"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","file":"review-good.js","sourceRoot":"../javascripts","sourcesContent":["/**\n *\n *\n * @author Jerry Bendy <jerry@icewingcc.com>\n * @licence MIT\n *\n */\n\n(function(self) {\n    'use strict';\n\n    var nativeURLSearchParams = (function() {\n            // #41 Fix issue in RN\n            try {\n                if (self.URLSearchParams && (new self.URLSearchParams('foo=bar')).get('foo') === 'bar') {\n                    return self.URLSearchParams;\n                }\n            } catch (e) {}\n            return null;\n        })(),\n        isSupportObjectConstructor = nativeURLSearchParams && (new nativeURLSearchParams({a: 1})).toString() === 'a=1',\n        // There is a bug in safari 10.1 (and earlier) that incorrectly decodes `%2B` as an empty space and not a plus.\n        decodesPlusesCorrectly = nativeURLSearchParams && (new nativeURLSearchParams('s=%2B').get('s') === '+'),\n        __URLSearchParams__ = \"__URLSearchParams__\",\n        // Fix bug in Edge which cannot encode ' &' correctly\n        encodesAmpersandsCorrectly = nativeURLSearchParams ? (function() {\n            var ampersandTest = new nativeURLSearchParams();\n            ampersandTest.append('s', ' &');\n            return ampersandTest.toString() === 's=+%26';\n        })() : true,\n        prototype = URLSearchParamsPolyfill.prototype,\n        iterable = !!(self.Symbol && self.Symbol.iterator);\n\n    if (nativeURLSearchParams && isSupportObjectConstructor && decodesPlusesCorrectly && encodesAmpersandsCorrectly) {\n        return;\n    }\n\n\n    /**\n     * Make a URLSearchParams instance\n     *\n     * @param {object|string|URLSearchParams} search\n     * @constructor\n     */\n    function URLSearchParamsPolyfill(search) {\n        search = search || \"\";\n\n        // support construct object with another URLSearchParams instance\n        if (search instanceof URLSearchParams || search instanceof URLSearchParamsPolyfill) {\n            search = search.toString();\n        }\n        this [__URLSearchParams__] = parseToDict(search);\n    }\n\n\n    /**\n     * Appends a specified key/value pair as a new search parameter.\n     *\n     * @param {string} name\n     * @param {string} value\n     */\n    prototype.append = function(name, value) {\n        appendTo(this [__URLSearchParams__], name, value);\n    };\n\n    /**\n     * Deletes the given search parameter, and its associated value,\n     * from the list of all search parameters.\n     *\n     * @param {string} name\n     */\n    prototype['delete'] = function(name) {\n        delete this [__URLSearchParams__] [name];\n    };\n\n    /**\n     * Returns the first value associated to the given search parameter.\n     *\n     * @param {string} name\n     * @returns {string|null}\n     */\n    prototype.get = function(name) {\n        var dict = this [__URLSearchParams__];\n        return this.has(name) ? dict[name][0] : null;\n    };\n\n    /**\n     * Returns all the values association with a given search parameter.\n     *\n     * @param {string} name\n     * @returns {Array}\n     */\n    prototype.getAll = function(name) {\n        var dict = this [__URLSearchParams__];\n        return this.has(name) ? dict [name].slice(0) : [];\n    };\n\n    /**\n     * Returns a Boolean indicating if such a search parameter exists.\n     *\n     * @param {string} name\n     * @returns {boolean}\n     */\n    prototype.has = function(name) {\n        return hasOwnProperty(this [__URLSearchParams__], name);\n    };\n\n    /**\n     * Sets the value associated to a given search parameter to\n     * the given value. If there were several values, delete the\n     * others.\n     *\n     * @param {string} name\n     * @param {string} value\n     */\n    prototype.set = function set(name, value) {\n        this [__URLSearchParams__][name] = ['' + value];\n    };\n\n    /**\n     * Returns a string containg a query string suitable for use in a URL.\n     *\n     * @returns {string}\n     */\n    prototype.toString = function() {\n        var dict = this[__URLSearchParams__], query = [], i, key, name, value;\n        for (key in dict) {\n            name = encode(key);\n            for (i = 0, value = dict[key]; i < value.length; i++) {\n                query.push(name + '=' + encode(value[i]));\n            }\n        }\n        return query.join('&');\n    };\n\n    // There is a bug in Safari 10.1 and `Proxy`ing it is not enough.\n    var forSureUsePolyfill = !decodesPlusesCorrectly;\n    var useProxy = (!forSureUsePolyfill && nativeURLSearchParams && !isSupportObjectConstructor && self.Proxy);\n    /*\n     * Apply polifill to global object and append other prototype into it\n     */\n    Object.defineProperty(self, 'URLSearchParams', {\n        value: (useProxy ?\n            // Safari 10.0 doesn't support Proxy, so it won't extend URLSearchParams on safari 10.0\n            new Proxy(nativeURLSearchParams, {\n                construct: function(target, args) {\n                    return new target((new URLSearchParamsPolyfill(args[0]).toString()));\n                }\n            }) :\n            URLSearchParamsPolyfill)\n    });\n\n    var USPProto = self.URLSearchParams.prototype;\n\n    USPProto.polyfill = true;\n\n    /**\n     *\n     * @param {function} callback\n     * @param {object} thisArg\n     */\n    USPProto.forEach = USPProto.forEach || function(callback, thisArg) {\n        var dict = parseToDict(this.toString());\n        Object.getOwnPropertyNames(dict).forEach(function(name) {\n            dict[name].forEach(function(value) {\n                callback.call(thisArg, value, name, this);\n            }, this);\n        }, this);\n    };\n\n    /**\n     * Sort all name-value pairs\n     */\n    USPProto.sort = USPProto.sort || function() {\n        var dict = parseToDict(this.toString()), keys = [], k, i, j;\n        for (k in dict) {\n            keys.push(k);\n        }\n        keys.sort();\n\n        for (i = 0; i < keys.length; i++) {\n            this['delete'](keys[i]);\n        }\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i], values = dict[key];\n            for (j = 0; j < values.length; j++) {\n                this.append(key, values[j]);\n            }\n        }\n    };\n\n    /**\n     * Returns an iterator allowing to go through all keys of\n     * the key/value pairs contained in this object.\n     *\n     * @returns {function}\n     */\n    USPProto.keys = USPProto.keys || function() {\n        var items = [];\n        this.forEach(function(item, name) {\n            items.push(name);\n        });\n        return makeIterator(items);\n    };\n\n    /**\n     * Returns an iterator allowing to go through all values of\n     * the key/value pairs contained in this object.\n     *\n     * @returns {function}\n     */\n    USPProto.values = USPProto.values || function() {\n        var items = [];\n        this.forEach(function(item) {\n            items.push(item);\n        });\n        return makeIterator(items);\n    };\n\n    /**\n     * Returns an iterator allowing to go through all key/value\n     * pairs contained in this object.\n     *\n     * @returns {function}\n     */\n    USPProto.entries = USPProto.entries || function() {\n        var items = [];\n        this.forEach(function(item, name) {\n            items.push([name, item]);\n        });\n        return makeIterator(items);\n    };\n\n\n    if (iterable) {\n        USPProto[self.Symbol.iterator] = USPProto[self.Symbol.iterator] || USPProto.entries;\n    }\n\n\n    function encode(str) {\n        var replace = {\n            '!': '%21',\n            \"'\": '%27',\n            '(': '%28',\n            ')': '%29',\n            '~': '%7E',\n            '%20': '+',\n            '%00': '\\x00'\n        };\n        return encodeURIComponent(str).replace(/[!'\\(\\)~]|%20|%00/g, function(match) {\n            return replace[match];\n        });\n    }\n\n    function decode(str) {\n        return str\n            .replace(/[ +]/g, '%20')\n            .replace(/(%[a-f0-9]{2})+/ig, function(match) {\n                return decodeURIComponent(match);\n            });\n    }\n\n    function makeIterator(arr) {\n        var iterator = {\n            next: function() {\n                var value = arr.shift();\n                return {done: value === undefined, value: value};\n            }\n        };\n\n        if (iterable) {\n            iterator[self.Symbol.iterator] = function() {\n                return iterator;\n            };\n        }\n\n        return iterator;\n    }\n\n    function parseToDict(search) {\n        var dict = {};\n\n        if (typeof search === \"object\") {\n            // if `search` is an array, treat it as a sequence\n            if (isArray(search)) {\n                for (var i = 0; i < search.length; i++) {\n                    var item = search[i];\n                    if (isArray(item) && item.length === 2) {\n                        appendTo(dict, item[0], item[1]);\n                    } else {\n                        throw new TypeError(\"Failed to construct 'URLSearchParams': Sequence initializer must only contain pair elements\");\n                    }\n                }\n\n            } else {\n                for (var key in search) {\n                    if (search.hasOwnProperty(key)) {\n                        appendTo(dict, key, search[key]);\n                    }\n                }\n            }\n\n        } else {\n            // remove first '?'\n            if (search.indexOf(\"?\") === 0) {\n                search = search.slice(1);\n            }\n\n            var pairs = search.split(\"&\");\n            for (var j = 0; j < pairs.length; j++) {\n                var value = pairs [j],\n                    index = value.indexOf('=');\n\n                if (-1 < index) {\n                    appendTo(dict, decode(value.slice(0, index)), decode(value.slice(index + 1)));\n\n                } else {\n                    if (value) {\n                        appendTo(dict, decode(value), '');\n                    }\n                }\n            }\n        }\n\n        return dict;\n    }\n\n    function appendTo(dict, name, value) {\n        var val = typeof value === 'string' ? value : (\n            value !== null && value !== undefined && typeof value.toString === 'function' ? value.toString() : JSON.stringify(value)\n        );\n\n        // #47 Prevent using `hasOwnProperty` as a property name\n        if (hasOwnProperty(dict, name)) {\n            dict[name].push(val);\n        } else {\n            dict[name] = [val];\n        }\n    }\n\n    function isArray(val) {\n        return !!val && '[object Array]' === Object.prototype.toString.call(val);\n    }\n\n    function hasOwnProperty(obj, prop) {\n        return Object.prototype.hasOwnProperty.call(obj, prop);\n    }\n\n})(typeof global !== 'undefined' ? global : (typeof window !== 'undefined' ? window : this));\n","(function() {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = name.toString();\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = value.toString();\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    var self = this\n    if (headers instanceof Headers) {\n      headers.forEach(function(name, values) {\n        values.forEach(function(value) {\n          self.append(name, value)\n        })\n      })\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        self.append(name, headers[name])\n      })\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  // Instead of iterable for now.\n  Headers.prototype.forEach = function(callback) {\n    var self = this\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      callback(name, self.map[name])\n    })\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return fetch.Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new fetch.Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return fetch.Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return fetch.Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return fetch.Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : fetch.Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(function (text) {\n          return JSON.parse(text);\n      });\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(url, options) {\n    options = options || {}\n    this.url = url\n\n    this.credentials = options.credentials || 'omit'\n    this.headers = new Headers(options.headers)\n    this.method = normalizeMethod(options.method || 'GET')\n    this.mode = options.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && options.body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(options.body)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  var noXhrPatch =\n    typeof window !== 'undefined' && !!window.ActiveXObject &&\n      !(window.XMLHttpRequest && (new XMLHttpRequest).dispatchEvent);\n\n  function getXhr() {\n    // from backbone.js 1.1.2\n    // https://github.com/jashkenas/backbone/blob/1.1.2/backbone.js#L1181\n    if (noXhrPatch && !(/^(get|post|head|put|delete|options)$/i.test(this.method))) {\n      this.usingActiveXhr = true;\n      return new ActiveXObject(\"Microsoft.XMLHTTP\");\n    }\n    return new XMLHttpRequest();\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this._initBody(bodyInit)\n    this.type = 'default'\n    this.url = null\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n  }\n\n  Body.call(Response.prototype)\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    // TODO: Request constructor should accept input, init\n    var request\n    if (Request.prototype.isPrototypeOf(input) && !init) {\n      request = input\n    } else {\n      request = new Request(input, init)\n    }\n\n    return new fetch.Promise(function(resolve, reject) {\n      var xhr = getXhr();\n      if (request.credentials === 'cors') {\n        xhr.withCredentials = true;\n      }\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      function onload() {\n        if (xhr.readyState !== 4) {\n          return\n        }\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n      xhr.onreadystatechange = onload;\n      if (!self.usingActiveXhr) {\n        xhr.onload = onload;\n        xhr.onerror = function() {\n          reject(new TypeError('Network request failed'))\n        }\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(name, values) {\n        values.forEach(function(value) {\n          xhr.setRequestHeader(name, value)\n        })\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  fetch.Promise = self.Promise; // you could change it to your favorite alternative\n  self.fetch.polyfill = true\n})();\n","var a,b;a=this,b=function(){\"use strict\";function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,\"value\"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function t(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function c(i){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?t(Object(r),!0).forEach(function(e){var t,n;t=i,e=r[n=e],n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):t(Object(r)).forEach(function(e){Object.defineProperty(i,e,Object.getOwnPropertyDescriptor(r,e))})}return i}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function l(e,t){var n;if(\"undefined\"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if(\"string\"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return\"Map\"===(n=\"Object\"===n&&e.constructor?e.constructor.name:n)||\"Set\"===n?Array.from(e):\"Arguments\"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e))||t&&e&&\"number\"==typeof e.length){n&&(e=n);var i=0,t=function(){};return{s:t,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t}}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\")}var r,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw r}}}}function u(e,t){for(var n=document.getElementsByClassName(e.resultsList.className),i=0;i<n.length;i++)t!==n[i]&&t!==e.inputField&&n[i].parentNode.removeChild(n[i]);e.inputField.removeAttribute(\"aria-activedescendant\"),e.inputField.setAttribute(\"aria-expanded\",!1)}function r(s,a,l){var e,t,u=(e=s,(t=document.createElement(e.resultsList.element)).setAttribute(\"id\",e.resultsList.idName),t.setAttribute(\"aria-label\",e.name),t.setAttribute(\"class\",e.resultsList.className),t.setAttribute(\"role\",\"listbox\"),t.setAttribute(\"tabindex\",\"-1\"),e.resultsList.container&&e.resultsList.container(t),(\"string\"==typeof e.resultsList.destination?document.querySelector(e.resultsList.destination):e.resultsList.destination()).insertAdjacentElement(e.resultsList.position,t),t);s.inputField.setAttribute(\"aria-expanded\",!0);for(var n=function(t){var e,n,i,r,o=a.results[t],r=(e=o,n=t,i=s,(r=document.createElement(i.resultItem.element)).setAttribute(\"id\",\"\".concat(i.resultItem.idName,\"_\").concat(n)),r.setAttribute(\"class\",i.resultItem.className),r.setAttribute(\"role\",\"option\"),r.innerHTML=e.match,i.resultItem.content&&i.resultItem.content(e,r),r);r.addEventListener(\"click\",function(e){e={event:e,matches:l,input:a.input,query:a.query,results:a.results,selection:c(c({},o),{},{index:t})};s.onSelection&&s.onSelection(e)}),u.appendChild(r)},i=0;i<a.results.length;i++)n(i);return u}function d(e,t,n){e.dispatchEvent(new CustomEvent(n,{bubbles:!0,detail:t,cancelable:!0}))}function o(n,r){function i(e,t,n,i){e.preventDefault(),n?o++:o--,s(t),i.inputField.setAttribute(\"aria-activedescendant\",t[o].id),d(e.srcElement,c(c({event:e},r),{},{selection:r.results[o]}),\"navigation\")}var o=-1,s=function(e){if(!e)return!1;!function(e){for(var t=0;t<e.length;t++)e[t].removeAttribute(\"aria-selected\"),e[t].classList.remove(\"autoComplete_selected\")}(e),e[o=(o=o>=e.length?0:o)<0?e.length-1:o].setAttribute(\"aria-selected\",\"true\"),e[o].classList.add(\"autoComplete_selected\")},a=n.resultsList.navigation||function(e){var t=document.getElementById(n.resultsList.idName);if(!t)return n.inputField.removeEventListener(\"keydown\",a);t=t.getElementsByTagName(n.resultItem.element),27===e.keyCode?(n.inputField.value=\"\",u(n)):40===e.keyCode||9===e.keyCode?i(e,t,!0,n):38===e.keyCode||9===e.keyCode?i(e,t,!1,n):13===e.keyCode&&(e.preventDefault(),-1<o&&t&&t[o].click())};n.inputField.autoCompleteNavigate&&n.inputField.removeEventListener(\"keydown\",n.inputField.autoCompleteNavigate),n.inputField.autoCompleteNavigate=a,n.inputField.addEventListener(\"keydown\",a)}function s(o,s){for(var a=[],e=function(n){function e(e){var t=(e?i[e]:i).toString();t&&((t=\"function\"==typeof o.searchEngine?o.searchEngine(s,t):function(e,t,n){var i=n.diacritics?t.toLowerCase().normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g,\"\").normalize(\"NFC\"):t.toLowerCase();if(\"loose\"===n.searchEngine){e=e.replace(/ /g,\"\");for(var r=[],o=0,s=0;s<i.length;s++){var a=t[s];o<e.length&&i[s]===e[o]&&(a=n.highlight?'<span class=\"autoComplete_highlighted\">'.concat(a,\"</span>\"):a,o++),r.push(a)}if(o===e.length)return r.join(\"\")}else if(i.includes(e))return e=new RegExp(\"\".concat(e),\"i\").exec(t),n.highlight?t.replace(e,'<span class=\"autoComplete_highlighted\">'.concat(e,\"</span>\")):t}(s,t,o))&&e?a.push({key:e,index:n,match:t,value:i}):t&&!e&&a.push({index:n,match:t,value:i}))}var i=o.data.store[n];if(o.data.key){var t,r=l(o.data.key);try{for(r.s();!(t=r.n()).done;)e(t.value)}catch(e){r.e(e)}finally{r.f()}}else e()},t=0;t<o.data.store.length;t++)e(t);return o.sort?a.sort(o.sort):a}var n,i,h;function T(e){!function(e){if(!(e instanceof T))throw new TypeError(\"Cannot call a class as a function\")}(this);var t=e.name,n=void 0===t?\"Search\":t,i=e.selector,r=void 0===i?\"#autoComplete\":i,o=e.observer,s=void 0!==o&&o,a=e.data,l=a.src,u=a.key,c=a.cache,d=void 0!==c&&c,h=a.store,p=a.results,f=e.query,v=e.trigger,m=(v=void 0===v?{}:v).event,b=void 0===m?[\"input\"]:m,y=v.condition,g=void 0!==y&&y,F=e.searchEngine,L=void 0===F?\"strict\":F,k=e.diacritics,C=void 0!==k&&k,E=e.threshold,A=void 0===E?1:E,w=e.debounce,N=void 0===w?0:w,O=e.resultsList,j=(O=void 0===O?{}:O).render,x=void 0===j||j,S=O.container,I=void 0!==S&&S,P=O.destination,t=O.position,i=void 0===t?\"afterend\":t,o=O.element,c=void 0===o?\"ul\":o,a=O.idName,m=void 0===a?\"autoComplete_list\":a,v=O.className,y=void 0===v?\"autoComplete_list\":v,F=O.navigation,k=void 0!==F&&F,E=e.sort,w=void 0!==E&&E,j=e.placeHolder,S=e.maxResults,t=void 0===S?5:S,o=e.resultItem,a=(o=void 0===o?{}:o).content,v=void 0!==a&&a,O=o.element,F=void 0===O?\"li\":O,E=o.idName,S=void 0===E?\"autoComplete_result\":E,a=o.className,O=void 0===a?\"autoComplete_result\":a,E=e.noResults,o=e.highlight,a=void 0!==o&&o,o=e.feedback,e=e.onSelection;this.name=n,this.selector=r,this.observer=s,this.data={src:l,key:u,cache:d,store:h,results:p},this.query=f,this.trigger={event:b,condition:g},this.searchEngine=L,this.diacritics=C,this.threshold=A,this.debounce=N,this.resultsList={render:x,container:I,destination:P||this.selector,position:i,element:c,idName:m,className:y,navigation:k},this.sort=w,this.placeHolder=j,this.maxResults=t,this.resultItem={content:v,element:F,idName:S,className:O},this.noResults=E,this.highlight=a,this.feedback=o,this.onSelection=e,this.inputField=\"string\"==typeof this.selector?document.querySelector(this.selector):this.selector(),this.observer?this.preInit():this.init()}return n=T,(i=[{key:\"start\",value:function(e,t){var n=this,i=this.data.results?this.data.results(s(this,t)):s(this,t),t={input:e,query:t,matches:i,results:i.slice(0,this.maxResults)};return d(this.inputField,t,\"results\"),i.length?this.resultsList.render?(i.length&&r(this,t,i),d(this.inputField,t,\"rendered\"),o(this,t),void document.addEventListener(\"click\",function(e){return u(n,e.target)})):this.feedback(t):this.noResults?this.noResults(t,r):null}},{key:\"dataStore\",value:function(){var i=this;return new Promise(function(t,n){return i.data.cache&&i.data.store?t(null):new Promise(function(e,t){return\"function\"==typeof i.data.src?i.data.src().then(e,t):e(i.data.src)}).then(function(e){try{return i.data.store=e,d(i.inputField,i.data.store,\"fetch\"),t()}catch(e){return n(e)}},n)})}},{key:\"compose\",value:function(){var a=this;return new Promise(function(e,t){var n,i,r,o;return o=a.inputField,n=(o instanceof HTMLInputElement||o instanceof HTMLTextAreaElement?o.value:o.innerHTML).toLowerCase(),r=n,i=(o=a).query&&o.query.manipulate?o.query.manipulate(r):o.diacritics?r.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g,\"\").normalize(\"NFC\"):r,o=i,((r=a).trigger.condition?r.trigger.condition(o):o.length>=r.threshold&&o.replace(/ /g,\"\").length)?a.dataStore().then(function(e){try{return u(a),a.start(n,i),s.call(a)}catch(e){return t(e)}},t):(u(a),s.call(a));function s(){return e()}})}},{key:\"init\",value:function(){var e,n,i,r,t=this;(e=this).inputField.setAttribute(\"type\",\"text\"),e.inputField.setAttribute(\"role\",\"combobox\"),e.inputField.setAttribute(\"aria-haspopup\",!0),e.inputField.setAttribute(\"aria-expanded\",!1),e.inputField.setAttribute(\"aria-controls\",e.resultsList.idName),e.inputField.setAttribute(\"aria-autocomplete\",\"both\"),this.placeHolder&&this.inputField.setAttribute(\"placeholder\",this.placeHolder),this.hook=(n=function(){t.compose()},i=this.debounce,function(){var e=this,t=arguments;clearTimeout(r),r=setTimeout(function(){return n.apply(e,t)},i)}),this.trigger.event.forEach(function(e){t.inputField.removeEventListener(e,t.hook),t.inputField.addEventListener(e,t.hook)}),d(this.inputField,null,\"init\")}},{key:\"preInit\",value:function(){var r=this;new MutationObserver(function(e,t){var n,i=l(e);try{for(i.s();!(n=i.n()).done;){n.value;r.inputField&&(t.disconnect(),d(r.inputField,null,\"connect\"),r.init())}}catch(e){i.e(e)}finally{i.f()}}).observe(document,{childList:!0,subtree:!0})}},{key:\"unInit\",value:function(){this.inputField.removeEventListener(\"input\",this.hook),d(this.inputField,null,\"unInit\")}}])&&e(n.prototype,i),h&&e(n,h),T},\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=b():\"function\"==typeof define&&define.amd?define(b):(a=\"undefined\"!=typeof globalThis?globalThis:a||self).autoComplete=b();\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","/**\n * Simple AJAX handling module.\n * tokenfield 1.4.4 <https://github.com/KaneCohen/tokenfield>\n * Copyright 2018 Kane Cohen <https://github.com/KaneCohen>\n * Available under BSD-3-Clause license\n */\nexport default function ajax(params, options = {}, callback = null) {\n  let xhr = new XMLHttpRequest();\n  let url = options.url;\n  let paramsArr = [];\n  for (let key in params) {\n    paramsArr.push(`${key}=${encodeURIComponent(params[key])}`);\n  }\n\n  let paramsString = paramsArr.join('&');\n\n  if (options.type.toLowerCase() === 'get') {\n    url += '?' + paramsString;\n  }\n\n  xhr.open(options.type, url, true);\n\n  for (let header in options.headers) {\n    let value = options.headers[header];\n    if (typeof value === 'function') {\n      value = value(params, options);\n    }\n    xhr.setRequestHeader(header, value);\n  }\n\n  if (callback) {\n    xhr.onreadystatechange = callback;\n  }\n\n  xhr.send(params);\n\n  return xhr;\n}\n","/**\n * Input field with tagging/token/chip capabilities written in raw JavaScript\n * tokenfield 1.4.4 <https://github.com/KaneCohen/tokenfield>\n * Copyright 2018 Kane Cohen <https://github.com/KaneCohen>\n * Available under BSD-3-Clause license\n */\nimport EventEmitter from 'events';\nimport ajax from './ajax.js';\n\nlet _tokenfields = {};\n\nconst reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\nconst reHasRegExpChar = RegExp(reRegExpChar.source);\n\nconst _factory = document.createElement('div');\n\nconst _templates = {\n  containerTokenfield: `<div class=\"tokenfield tokenfield-mode-tokens\">\n      <input class=\"tokenfield-copy-helper\"\n        style=\"display:none;position:fixed;top:-1000px;right:1000px;\"\n        tabindex=\"-1\"\n        type=\"text\"\n      />\n      <div class=\"tokenfield-set\">\n        <ul></ul>\n      </div>\n      <input class=\"tokenfield-input\" />\n      <div class=\"tokenfield-suggest\">\n        <ul class=\"tokenfield-suggest-list\"></ul>\n      </div>\n    </div>`,\n  containerList: `<div class=\"tokenfield tokenfield-mode-list\">\n      <input class=\"tokenfield-input\" />\n      <div class=\"tokenfield-suggest\">\n        <ul class=\"tokenfield-suggest-list\"></ul>\n      </div>\n      <div class=\"tokenfield-set\">\n        <ul></ul>\n      </div>\n    </div>`,\n  suggestItem: `<li class=\"tokenfield-suggest-item\"></li>`,\n  setItem: `<li class=\"tokenfield-set-item\">\n      <span class=\"item-label\"></span>\n      <a href=\"#\" class=\"item-remove\" tabindex=\"-1\">×</a>\n      <input class=\"item-input\" type=\"hidden\" />\n    </li>`\n};\n\nfunction guid() {\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16) +\n    (((1 + Math.random()) * 0x10000) | 0).toString(16);\n}\n\nfunction includes(arr, item) {\n  return arr.indexOf(item) >= 0;\n}\n\nfunction getPath(node) {\n  let nodes = [node];\n  while (node.parentNode) {\n    node = node.parentNode;\n    nodes.push(node);\n  }\n  return nodes;\n}\n\nfunction findElement(input) {\n  if (input.nodeName) {\n    return input;\n  } else if (typeof input === 'string') {\n    return document.querySelector(input);\n  }\n  return null;\n}\n\nfunction build(html, all) {\n  if (html.nodeName) return html;\n  html = html.replace(/(\\t|\\n$)/g, '');\n\n  _factory.innerHTML = '';\n  _factory.innerHTML = html;\n  if (all === true) {\n    return _factory.childNodes;\n  } else {\n    return _factory.childNodes[0];\n  }\n}\n\nfunction toString(value) {\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (value === null) {\n    return '';\n  }\n  let result = (value + '');\n  return (result === '0' && (1 / value) === -Infinity) ? '-0' : result;\n}\n\nfunction keyToChar(e) {\n  if (e.key || e.keyIdentifier) {\n    return e.key || String.fromCharCode(parseInt(e.keyIdentifier.substr(2), 16));\n  }\n  return null;\n}\n\nfunction escapeRegex(string) {\n  string = toString(string);\n  return (string && reHasRegExpChar.test(string)) ?\n    string.replace(reRegExpChar, '\\\\$&') :\n    string;\n}\n\nfunction makeDefaultsAndOptions() {\n  const _defaults = {\n    focusedItem: null,\n    cache: {},\n    timer: null,\n    xhr: null,\n    suggested: false,\n    suggestedItems: [],\n    setItems: [],\n    events: {},\n    delimiters: {}\n  };\n\n  const _options = {\n    el: null,\n    form: true,               // Listens to reset event on the specifiedform. If set to true listens to\n                              // immediate parent form. Also accepts selectors or elements.\n    mode: 'tokenfield',       // Display mode: tokenfield or list.\n    addItemOnBlur: false,     // Add token if input field loses focus.\n    addItemsOnPaste: false,   // Add tokens using `delimiters` option below to tokenize given string.\n    keepItemsOrder: true,     // Items and New Items values will be set in input with a specific position\n                              // in the list so that you can retreive correct position on the backend.\n    setItems: [],             // List of set items.\n    items: [],                // List of available items to work with.\n                              // Example: [{id: 143, value: 'Hello World'}, {id: 144, value: 'Foo Bar'}].\n    newItems: true,           // Allow input (on delimiter key) of new items.\n    multiple: true,           // Accept multiple items.\n    maxItems: 0,              // Set maximum allowed number of items.\n    minLength: 0,             // Minimum length of the string to be converted into token.\n    keys: {                   // Various action keys.\n      17:  'ctrl',\n      16:  'shift',\n      91:  'meta',\n      8:   'delete',          // Backspace\n      27:  'esc',\n      37:  'left',\n      38:  'up',\n      39:  'right',\n      40:  'down',\n      46:  'delete',\n      65:  'select',          // A\n      67:  'copy',            // C\n      88:  'cut',             // X\n      9:   'delimiter',       // Tab\n      13:  'delimiter',       // Enter\n      108: 'delimiter'        // Numpad Enter\n    },\n    matchRegex: '{value}',    // Match regex where {value} would be replaced by ecaped user input.\n    matchFlags: 'i',          // Flags used in regex matching.\n    matchStart: false,        // Set match regex to test from the beginning of the string.\n    matchEnd: false,          // Set match regex to test from the end of the string.\n    delimiters: [],           // Array of strings which act as delimiters during tokenization.\n    copyProperty: 'name',     // Property of the token used for copy event.\n    copyDelimiter: ', ',      // Delimiter used to populate clipboard with selected tokens.\n    remote: {\n      type: 'GET',            // Ajax request type.\n      url: null,              // Full server url.\n      queryParam: 'q',        // What param to use when asking server for data.\n      delay: 300,             // Dealy between last keydown event and ajax request for data.\n      timestampParam: 't',\n      params: {},\n      headers: {}\n    },\n    placeholder: null,        // Hardcoded placeholder text. If not set, will use placeholder from the element itself.\n    inputType: 'text',        // HTML attribute for the input element which lets mobile browsers use various input modes.\n                              // Accepts text, email, url, and others.\n    minChars: 2,              // Number of characters before we start to look for similar items.\n    maxSuggest: 10,           // Max items in the suggest box.\n    maxSuggestWindow: 10,     // Limit height of the suggest box after given number of items.\n    filterSetItems: true,     // Filters already set items from the suggestions list.\n    filterMatchCase: false,   // Sets case-sensitivity for checking whether new item is already set in the list.\n\n    singleInput: false,       // Pushes all token values into a single. Accepts: true, 'selector', or an element.\n                              // When set to true - would use tokenfield target element as an input to fill.\n    singleInputValue: 'id',   // Which property of the item to use when using fillInput.\n    singleInputDelimiter: ', ',\n\n    itemLabel: 'name',        // Property to use in order to render item label.\n    itemName: 'items',        // If set, for each tag/token there will be added\n                              // input field with array property name:\n                              // name=\"items[]\".\n\n    newItemName: 'items_new', // Suffix that will be added to the new tag in\n                              // case it was not available from the server:\n                              // name=\"items_new[]\".\n\n    itemValue: 'id',         // Value that will be taken out of the results and inserted into itemAttr.\n    newItemValue: 'name',    // Value that will be taken out of the results and inserted into itemAttr.\n    itemData: 'name',        // Which property to search for.\n    validateNewItem: null    // Run a function to test if new item is valid and can be added.\n  };\n  return {_defaults, _options};\n}\n\nclass Tokenfield extends EventEmitter {\n  constructor(options = {}) {\n    super();\n\n    let { _defaults, _options } = makeDefaultsAndOptions();\n\n    this.id = guid();\n    this.key = `key_${this.id}`;\n    this._vars = Object.assign({}, _defaults);\n    this._options = Object.assign({}, _options, options);\n    this._options.keys = Object.assign({}, _options.keys, options.keys);\n    this._options.remote = Object.assign({}, _options.remote, options.remote);\n    this._templates = Object.assign({}, _templates, options.templates);\n    this._vars.setItems = this._prepareData(this.remapData(this._options.setItems || []));\n    this._focused = false;\n    this._input = null;\n    this._form = false;\n    this._html = {};\n\n    let o = this._options;\n\n    // Make a hash map to simplify filtering later.\n    o.delimiters.forEach((delimiter) => {\n      this._vars.delimiters[delimiter] = true;\n    });\n\n    let el = findElement(o.el);\n    if (el) {\n      this.el = el;\n    } else {\n      throw new Error(`Selector: DOM Element ${o.el} not found.`);\n    }\n\n    if (o.singleInput) {\n      let el = findElement(o.singleInput);\n      if (el) {\n        this._input = el;\n      } else {\n        this._input = this.el;\n      }\n    }\n\n    this.el.tokenfield = this;\n\n    if (o.placeholder === null) {\n      o.placeholder = o.el.placeholder || '';\n    }\n\n    if (o.form) {\n      let form = false;\n      if (o.form.nodeName) {\n        form = o.form;\n      } else if (o.form === true) {\n        let node = this.el;\n        while (node.parentNode) {\n          if (node.nodeName === 'FORM') {\n            form = node;\n            break;\n          }\n          node = node.parentNode;\n        }\n      } else if (typeof form == 'string') {\n        form = document.querySelector(form);\n        if (! form) {\n          throw new Error(`Selector: DOM Element ${o.form} not found.`);\n        }\n      }\n      this._form = form;\n    } else {\n      throw new Error(`Cannot create tokenfield without DOM Element.`);\n    }\n\n    _tokenfields[this.id] = this;\n\n    this._render();\n  }\n\n  _render() {\n    let o = this._options;\n    let html = this._html;\n\n    if (o.mode === 'tokenfield') {\n      html.container = build(this._templates.containerTokenfield);\n    } else {\n      html.container = build(this._templates.containerList);\n    }\n    html.suggest = html.container.querySelector('.tokenfield-suggest');\n    html.suggestList = html.container.querySelector('.tokenfield-suggest-list');\n    html.items = html.container.querySelector('.tokenfield-set > ul');\n    html.input = html.container.querySelector('.tokenfield-input');\n    html.input.setAttribute('type', o.inputType);\n    if (o.mode === 'tokenfield') {\n      html.input.placeholder = this._vars.setItems.length ? '' : o.placeholder;\n    } else {\n      html.input.placeholder = o.placeholder;\n    }\n    html.copyHelper = html.container.querySelector('.tokenfield-copy-helper');\n\n    o.el.style.display = 'none';\n    html.suggest.style.display = 'none';\n    this._renderSizer();\n\n    // Set tokenfield in DOM.\n    html.container.tokenfield = this;\n    o.el.parentElement.insertBefore(html.container, o.el);\n    html.container.insertBefore(o.el, html.container.firstChild);\n\n    this._setEvents();\n    this._renderItems();\n    if (o.mode === 'tokenfield') {\n      this._resizeInput();\n    }\n\n    return this;\n  }\n\n  _renderSizer() {\n    let html = this._html;\n    let b = this._getBounds();\n    let style = window.getComputedStyle(html.container);\n    let compensate = parseInt(style.paddingLeft, 10) +\n      parseInt(style.paddingRight, 10);\n\n    let styles = {\n      width: 'auto',\n      height: 'auto',\n      overflow: 'hidden',\n      whiteSpace: 'pre',\n      maxWidth: b.width - compensate + 'px',\n      position: 'fixed',\n      top: -10000 + 'px',\n      left: 10000 + 'px',\n      fontSize: style.fontSize,\n      paddingLeft: style.paddingLeft,\n      paddingRight: style.paddingRight\n    };\n\n    html.sizer = document.createElement('div');\n    html.sizer.id = 'tokenfield-sizer-' + this.id;\n    for (let key in styles) {\n      html.sizer.style[key] = styles[key];\n    }\n    html.container.appendChild(html.sizer);\n  }\n\n  _minimizeInput() {\n    this._html.input.style.width = '20px';\n    return this;\n  }\n\n  _refreshInput(empty = true) {\n    let v = this._vars;\n    let html = this._html;\n\n    if (empty) html.input.value = '';\n\n    if (this._options.mode === 'tokenfield') {\n      this._resizeInput();\n      let placeholder =  v.setItems.length ? '' : this._options.placeholder;\n      html.input.setAttribute('placeholder', placeholder);\n    } else if (this._options.mode === 'list') {\n      html.input.setAttribute('placeholder', this._options.placeholder);\n    }\n    return this;\n  }\n\n  _resizeInput(val = '') {\n    let html = this._html;\n    let b = this._getBounds();\n    let style = window.getComputedStyle(html.container);\n    let compensate = parseInt(style.paddingRight, 10) +\n      parseInt(style.borderRightWidth, 10);\n\n    let fullCompensate = compensate +\n      parseInt(style.paddingLeft, 10) +\n      parseInt(style.borderLeftWidth, 10);\n\n    html.sizer.innerHTML = val;\n    html.sizer.style.maxWidth = b.width - compensate + 'px';\n\n    if (b.width === 0) {\n      html.input.style.width = '100%';\n      return;\n    } else {\n      html.input.style.width = '20px';\n    }\n\n    let sb = html.sizer.getBoundingClientRect();\n    let ib = html.input.getBoundingClientRect();\n    let rw = b.width - (ib.left - b.left) - compensate;\n\n    if (sb.width > rw) {\n      html.input.style.width = (b.width - fullCompensate - 1) + 'px';\n    } else {\n      html.input.style.width = (rw - 1) + 'px';\n    }\n  }\n\n  _fetchData(val) {\n    let v = this._vars;\n    let o = this._options;\n    let r = o.remote;\n    let reqData = Object.assign({}, o.params);\n\n    for (let key in r.params) {\n      reqData[key] = r.params[key];\n    }\n\n    if (r.limit) {\n      reqData[r.limit] = o.remote.limit;\n    }\n\n    reqData[r.queryParam] = val;\n    reqData[r.timestampParam] = Math.round((new Date()).getTime() / 1000);\n\n    v.xhr = ajax(reqData, o.remote, () => {\n      if (v.xhr && v.xhr.readyState == 4) {\n        if (v.xhr.status == 200) {\n          let response = JSON.parse(v.xhr.responseText);\n          v.cache[val] = response;\n          let data = this._prepareData(this.remapData(response));\n          let items = this._filterData(val, data);\n          v.suggestedItems = o.filterSetItems ? this._filterSetItems(items) : items;\n          this.showSuggestions();\n        } else if (v.xhr.status > 0) {\n          throw new Error('Error while loading remote data.');\n        }\n        this._abortXhr();\n      }\n    });\n  }\n\n  // Overwriteable method where you can change given data to appropriate format.\n  remapData(data) {\n    return data;\n  }\n\n  _prepareData(data) {\n    return data.map(item => {\n      return Object.assign({}, item, {\n        [this.key]: guid()\n      });\n    });\n  }\n\n  _filterData(val, data) {\n    let o = this._options;\n    let regex = o.matchRegex.replace('{value}', escapeRegex(val));\n    if (o.matchStart) {\n      regex = '^' + regex;\n    } else if (o.matchEnd) {\n      regex = regex + '$';\n    }\n    let pattern = new RegExp(regex, o.matchFlags);\n    return data.filter(item => pattern.test(item[o.itemData]));\n  }\n\n  _abortXhr() {\n    let v = this._vars;\n    if (v.xhr !== null) {\n      v.xhr.abort();\n      v.xhr = null;\n    }\n  }\n\n  _filterSetItems(items) {\n    const key = this._options.itemValue;\n    let v = this._vars;\n    if (! v.setItems.length) return items;\n\n    let setKeys = v.setItems.map(item => item[key]);\n\n    return items.filter(item => {\n      if (setKeys.indexOf(item[key]) === -1) {\n        return true;\n      }\n      return false;\n    });\n  }\n\n  _setEvents() {\n    let v = this._vars;\n    let html = this._html;\n    v.events.onClick = this._onClick.bind(this);\n    v.events.onMouseDown = this._onMouseDown.bind(this);\n    v.events.onMouseOver = this._onMouseOver.bind(this);\n    v.events.onFocus = this._onFocus.bind(this);\n    v.events.onResize = this._onResize.bind(this);\n    v.events.onReset = this._onReset.bind(this);\n    v.events.onKeyDown = this._onKeyDown.bind(this);\n    v.events.onFocusOut = this._onFocusOut.bind(this);\n\n    html.container.addEventListener('click', v.events.onClick);\n\n    // Attach document event only once.\n    if (Object.keys(_tokenfields).length === 1) {\n      document.addEventListener('mousedown', v.events.onMouseDown);\n      window.addEventListener('resize', v.events.onResize);\n    }\n\n    if (this._form && this._form.nodeName) {\n      this._form.addEventListener('reset', v.events.onReset);\n    }\n\n    html.suggestList.addEventListener('mouseover', v.events.onMouseOver);\n    html.input.addEventListener('focus', v.events.onFocus);\n  }\n\n  _onMouseOver(e) {\n    let target = e.target;\n    if (target.classList.contains('tokenfield-suggest-item')) {\n      let selected = [].slice.call(this._html.suggestList.querySelectorAll('.selected'));\n      selected.forEach(item => {\n        if (item !== target) item.classList.remove('selected');\n      });\n      target.classList.add('selected');\n      this._selectItem(target.key, false);\n      this._refreshItemsSelection();\n    }\n  }\n\n  _onReset() {\n    this.setItems(this._options.setItems);\n  }\n\n  _onFocus() {\n    let v = this._vars;\n    let html = this._html;\n    let o = this._options;\n\n    html.input.removeEventListener('keydown', v.events.onKeyDown);\n    html.input.addEventListener('keydown', v.events.onKeyDown);\n    html.input.addEventListener('focusout', v.events.onFocusOut);\n\n    if (o.addItemsOnPaste) {\n      v.events.onPaste = this._onPaste.bind(this);\n      html.input.addEventListener('paste', v.events.onPaste);\n    }\n\n    this._focused = true;\n    this._html.container.classList.add('focused');\n    this._resizeInput();\n\n    if (html.input.value.trim().length >= o.minChars) {\n      this.showSuggestions();\n    }\n  }\n\n  _onFocusOut(e) {\n    let v = this._vars;\n    let o = this._options;\n    let html = this._html;\n    html.input.removeEventListener('keydown', v.events.onKeyDown);\n    html.input.removeEventListener('focusout', v.events.onFocusOut);\n\n    if (typeof v.events.onPaste !== 'undefined') {\n      html.input.removeEventListener('paste', v.events.onPaste);\n    }\n\n    if (e.relatedTarget && e.relatedTarget === html.copyHelper) {\n      return;\n    }\n\n    let canAddItem = ((o.multiple && ! o.maxItems) ||\n      (! o.multiple && ! v.setItems.length) ||\n      (o.multiple && o.maxItems && v.setItems.length < o.maxItems));\n\n    if (this._focused &&\n      o.addItemOnBlur &&\n      canAddItem &&\n      this._newItem(html.input.value)\n    ) {\n      this._renderItems()._refreshInput();\n    } else {\n      this._defocusItems()._renderItems();\n    }\n\n    this._focused = false;\n    this._html.container.classList.remove('focused');\n  }\n\n  _onMouseDown(e) {\n    let tokenfield = null;\n    for (let key in _tokenfields) {\n      if (_tokenfields[key]._html.container.contains(e.target)) {\n        tokenfield = _tokenfields[key];\n        break;\n      }\n    }\n\n    if (tokenfield) {\n      for (let key in _tokenfields) {\n        if (key !== tokenfield.id) {\n          _tokenfields[key].hideSuggestions();\n          _tokenfields[key].blur();\n        }\n      }\n\n      // Prevent input blur.\n      if (e.target !== tokenfield._html.input) {\n        e.preventDefault();\n      }\n    } else {\n      for (let key in _tokenfields) {\n        _tokenfields[key].hideSuggestions();\n        _tokenfields[key].blur();\n      }\n    }\n  }\n\n  _onResize() {\n    for (let key in _tokenfields) {\n      _tokenfields[key]._resizeInput(_tokenfields[key]._html.input.value);\n    }\n  }\n\n  _onPaste(e) {\n    let v = this._vars;\n    let o = this._options;\n    let val = e.clipboardData.getData('text');\n    let tokens = [val];\n\n    // Break input using delimiters option.\n    if (o.delimiters.length) {\n      let search = o.delimiters.join('|');\n      let splitRegex = new RegExp(`(${search})`, 'ig');\n      tokens = val.split(splitRegex);\n    }\n\n    let items = tokens\n      .map((token) => token.trim())\n      .filter((token) => {\n        return token.length > 0 &&\n          token.length >= o.minLength &&\n            typeof v.delimiters[token] === 'undefined';\n      })\n      .map((token) => {\n        return this._newItem(token);\n      });\n\n    if (items.length) {\n      setTimeout(() => {\n        this._renderItems()\n          ._refreshInput()\n          ._deselectItems()\n          .hideSuggestions();\n      }, 1);\n\n      e.preventDefault();\n    }\n  }\n\n  _onKeyDown(e) {\n    let v = this._vars;\n    let o = this._options;\n    let html = this._html;\n\n    if (o.maxItems && v.setItems.length >= o.maxItems) {\n      e.preventDefault();\n    }\n\n    if (o.mode === 'tokenfield') {\n      setTimeout(() => {\n        this._resizeInput(html.input.value);\n      }, 1);\n    }\n\n    let key = keyToChar(e);\n    if (typeof o.keys[e.keyCode] !== 'undefined' || includes(o.delimiters, key)) {\n      if (this._keyAction(e)) return true;\n    } else {\n      this._defocusItems()._refreshItems();\n    }\n\n    clearTimeout(v.timer);\n    this._abortXhr();\n\n    if (! o.maxItems || v.setItems.length < o.maxItems) {\n      setTimeout(() => {\n        this._keyInput(e);\n      }, 1);\n    }\n  }\n\n  _keyAction(e) {\n    const key = this.key;\n    let item = null;\n    let v = this._vars;\n    let o = this._options;\n    let html = this._html;\n    let keyName = o.keys[e.keyCode];\n    let val = html.input.value.trim();\n    let keyChar = keyToChar(e);\n\n    if (includes(o.delimiters, keyChar) && typeof keyName === 'undefined') {\n      keyName = 'delimiter';\n    }\n\n    let selected = this._getSelectedItems();\n    if (selected.length) {\n      item = selected[0];\n    }\n\n    switch (keyName) {\n      case 'esc':\n        this._deselectItems()._defocusItems()._renderItems().hideSuggestions();\n        break;\n      case 'up':\n        if (this._vars.suggested) {\n          this._selectPrevItem()._refreshItemsSelection();\n          e.preventDefault();\n        }\n        this._defocusItems()._renderItems();\n        break;\n      case 'down':\n        if (this._vars.suggested) {\n          this._selectNextItem()._refreshItemsSelection();\n          e.preventDefault();\n        }\n        this._defocusItems()._renderItems();\n        break;\n      case 'left':\n        if (this.getFocusedItems().length ||\n          (! html.input.selectionStart && ! html.input.selectionEnd)\n        ) {\n          this._focusPrevItem(e.shiftKey);\n          e.preventDefault();\n        }\n        break;\n      case 'right':\n        if (this.getFocusedItems().length ||\n          html.input.selectionStart === val.length\n        ) {\n          this._focusNextItem(e.shiftKey);\n          e.preventDefault();\n        }\n        break;\n      case 'delimiter':\n        this._abortXhr();\n        this._defocusItems();\n\n        if (! o.multiple && v.setItems.length >= 1) {\n          return false;\n        }\n\n        val = this.onInput(val, e);\n        if (item) {\n          this._addItem(item);\n        } else if (val.length) {\n          item = this._newItem(val);\n        }\n\n        if (item) {\n          this\n            ._minimizeInput()\n            ._renderItems()\n            .focus()\n            ._refreshInput()\n            ._refreshSuggestions()\n            ._deselectItems();\n        }\n        e.preventDefault();\n        break;\n      case 'select':\n        if (! val.length && (e.ctrlKey || e.metaKey)) {\n          this._vars.setItems.forEach((item) => {\n            item.focused = true;\n          });\n          this._refreshItems();\n        } else {\n          return false;\n        }\n        break;\n      case 'cut': {\n        let focusedItems = this.getFocusedItems();\n        if (focusedItems.length && (e.ctrlKey || e.metaKey)) {\n          this._copy()._delete(e);\n        } else {\n          return false;\n        }\n        break;\n      }\n      case 'copy': {\n        let focusedItems = this.getFocusedItems();\n        if (focusedItems.length && (e.ctrlKey || e.metaKey)) {\n          this._copy();\n        } else {\n          return false;\n        }\n        break;\n      }\n      case 'delete': {\n        this._abortXhr();\n        let focusedItems = this.getFocusedItems();\n        if ((! html.input.selectionEnd && e.keyCode === 8) ||\n          (html.input.selectionStart === val.length && e.keyCode === 46) ||\n          focusedItems.length\n        ) {\n          this._delete(e);\n        } else {\n          v.timer = setTimeout(() => {\n            this._keyInput(e);\n          }, o.delay);\n        }\n        break;\n      }\n      default:\n        break;\n    }\n\n    return true;\n  }\n\n  _copy() {\n    let o = this._options;\n    let html = this._html;\n    let copyString = this.getFocusedItems()\n      .map(item => item[o.copyProperty])\n      .join(o.copyDelimiter);\n\n    html.copyHelper.style.display = 'block';\n    html.copyHelper.value = copyString;\n    html.copyHelper.focus();\n    html.copyHelper.select();\n    document.execCommand('copy');\n    html.copyHelper.style.display = 'none';\n    html.copyHelper.value = '';\n    html.input.focus();\n\n    return this;\n  }\n\n  _delete(e) {\n    let v = this._vars;\n    let o = this._options;\n    const key = this.key;\n    let html = this._html;\n    let focusedItems = this.getFocusedItems();\n\n    if (o.mode === 'tokenfield' && v.setItems.length) {\n      if (focusedItems.length) {\n        focusedItems.forEach((item) => {\n          this._removeItem(item[key]);\n        });\n        this._refreshSuggestions()._keyInput(e);\n      } else if (! html.input.selectionStart) {\n        this._focusItem(v.setItems[v.setItems.length - 1][key]);\n      }\n    } else if (focusedItems.length) {\n      focusedItems.forEach((item) => {\n        this._removeItem(item[key]);\n      });\n      this._refreshSuggestions()._keyInput(e);\n    }\n    this._minimizeInput()._renderItems()._refreshInput(false);\n\n    return this;\n  }\n\n  _keyInput(e) {\n    let v = this._vars;\n    let o = this._options;\n    let html = this._html;\n\n    this._defocusItems()._refreshItems();\n\n    const val = this.onInput(html.input.value.trim(), e);\n\n    if (e.type === 'keydown') {\n      this.emit('input', this, val, e);\n    }\n\n    if (val.length < o.minChars) {\n      this.hideSuggestions();\n      return false;\n    }\n\n    if (! o.multiple && v.setItems.length >= 1) {\n      return false;\n    }\n\n    // Check if we have cache with this val.\n    if (typeof v.cache[val] === 'undefined') {\n      // Get new data.\n      if (o.remote.url) {\n        v.timer = setTimeout(() => {\n          this._fetchData(val);\n        }, o.delay);\n      } else if (! o.remote.url && o.items.length) {\n        let data = this._prepareData(o.items);\n        let items = this._filterData(val, data);\n        v.suggestedItems = o.filterSetItems ? this._filterSetItems(items) : items;\n        this.showSuggestions();\n      }\n    } else {\n      // Work with cached data.\n      let data = this._prepareData(this.remapData(v.cache[val]));\n      let items = this._filterData(val, data);\n      v.suggestedItems = o.filterSetItems ? this._filterSetItems(items) : items;\n      this.showSuggestions();\n    }\n\n    return this;\n  }\n\n  _onClick(e) {\n    let target = e.target;\n\n    if (target.classList.contains('item-remove')) {\n      e.preventDefault();\n\n      this._removeItem(target.key)\n        ._defocusItems()\n        ._minimizeInput()\n        ._renderItems()\n        ._refreshInput(false)\n        ._keyInput(e);\n    } else if (target.classList.contains('tokenfield-suggest-item')) {\n      let item = this._getSuggestedItem(target.key);\n      this._addItem(item)\n        ._minimizeInput()\n        ._renderItems()\n        ._refreshInput()\n        ._refreshSuggestions();\n    } else {\n      let setItem = getPath(target).filter((node) => {\n        return node.classList && node.classList.contains('tokenfield-set-item');\n      })[0];\n\n      if (setItem) {\n        this._focusItem(setItem.key, e.shiftKey, e.ctrlKey || e.metaKey, true);\n        this._refreshItems();\n      } else {\n        this._keyInput(e);\n      }\n    }\n\n    this.focus();\n  }\n\n  _selectPrevItem() {\n    const key = this.key;\n    const o = this._options;\n    let items = this._vars.suggestedItems;\n    let index = this._getSelectedItemIndex();\n\n    if (! items.length) {\n      return this;\n    }\n\n    if (index !== null) {\n      if (index === 0) {\n        if (o.newItems) {\n          this._deselectItems();\n        } else {\n          this._selectItem(items[items.length - 1][key]);\n        }\n      } else {\n        this._selectItem(items[index - 1][key]);\n      }\n    } else {\n      this._selectItem(items[items.length - 1][key]);\n    }\n\n    return this;\n  }\n\n  _selectNextItem() {\n    const key = this.key;\n    const o = this._options;\n    let items = this._vars.suggestedItems;\n    let index = this._getSelectedItemIndex();\n\n    if (! items.length) {\n      return this;\n    }\n\n    if (index !== null) {\n      if (index === items.length - 1) {\n        if (o.newItems) {\n          this._deselectItems();\n        } else {\n          this._selectItem(items[0][key]);\n        }\n      } else {\n        this._selectItem(items[index + 1][key]);\n      }\n    } else {\n      this._selectItem(items[0][key]);\n    }\n\n    return this;\n  }\n\n  _focusPrevItem(multiple = false) {\n    const key = this.key;\n    let items = this._vars.setItems;\n    let index = this._getFocusedItemIndex();\n\n    if (! items.length) {\n      return this;\n    }\n\n    if (index !== null) {\n      if (index === 0 && ! multiple) {\n        this._defocusItems();\n      } else if (index === 0 && multiple) {\n        let lastFocused = this._getFocusedItemIndex(true);\n        this._defocusItem(items[lastFocused][key]);\n      } else {\n        this._focusItem(items[index - 1][key], multiple, false, true);\n      }\n    } else {\n      this._focusItem(items[items.length - 1][key], false, false, true);\n    }\n    this._refreshItems();\n\n    return this;\n  }\n\n  _focusNextItem(multiple = false) {\n    const key = this.key;\n    let items = this._vars.setItems;\n    let index = this._getFocusedItemIndex(true);\n\n    if (! items.length) {\n      return this;\n    }\n\n    if (index !== null) {\n      if (index === items.length - 1 && ! multiple) {\n        this._defocusItems();\n      } else if (index === items.length - 1 && multiple) {\n        this._focusItem(items[0][key], multiple);\n      } else {\n        this._focusItem(items[index + 1][key], multiple);\n      }\n    } else {\n      this._focusItem(items[0][key], false);\n    }\n    this._refreshItems();\n\n    return this;\n  }\n\n  _getSelectedItems() {\n    const key = this.key;\n    let setIds = this._vars.setItems.map(item => item[key]);\n    return this._vars.suggestedItems.filter(v => {\n      return v.selected && setIds.indexOf(v[key]) < 0;\n    });\n  }\n\n  _selectItem(key, scroll = false) {\n    this._vars.suggestedItems.forEach(v => {\n      v.selected = v[this.key] === key;\n      if (v.selected && scroll) {\n        let height = parseInt(this._html.suggest.style.maxHeight, 10);\n        if (height) {\n          let listBounds = this._html.suggestList.getBoundingClientRect();\n          let elBounds = v.el.getBoundingClientRect();\n          let top = elBounds.top - listBounds.top;\n          let bottom = top + elBounds.height;\n\n          if (bottom >= height + this._html.suggest.scrollTop) {\n            this._html.suggest.scrollTop = bottom - height;\n          } else if (top < this._html.suggest.scrollTop) {\n            this._html.suggest.scrollTop = top;\n          }\n        }\n      }\n    });\n  }\n\n  _deselectItem(key) {\n    this._vars.suggestedItems.every(v => {\n      if (v[this.key] === key) {\n        v.selected = false;\n        return false;\n      }\n      return true;\n    });\n    return this;\n  }\n\n  _deselectItems() {\n    this._vars.suggestedItems.forEach(v => {\n      v.selected = false;\n    });\n    return this;\n  }\n\n  _refreshItemsSelection() {\n    this._vars.suggestedItems.forEach(v => {\n      if (v.selected && v.el) {\n        v.el.classList.add('selected');\n      } else if (v.el) {\n        v.el.classList.remove('selected');\n      }\n    });\n  }\n\n  _getSelectedItemIndex() {\n    let index = null;\n    this._vars.suggestedItems.every((v, k) => {\n      if (v.selected) {\n        index = k;\n        return false;\n      }\n      return true;\n    });\n    return index;\n  }\n\n  _getFocusedItemIndex(last = false) {\n    let index = null;\n    this._vars.setItems.every((v, k) => {\n      if (v.focused) {\n        index = k;\n        if (! last) {\n          return false;\n        }\n      }\n      return true;\n    });\n    return index;\n  }\n\n  _getItem(val, prop = null) {\n    if (prop === null) prop = this.key;\n    let items = this._filterItems(this._vars.setItems, val, prop);\n    return items.length ? items[0] : null;\n  }\n\n  _getSuggestedItem(val, prop = null) {\n    if (prop === null) prop = this.key;\n    let items = this._filterItems(this._vars.suggestedItems, val, prop);\n    return items.length ? items[0] : null;\n  }\n\n  _getAvailableItem(val, prop = null) {\n    if (prop === null) prop = this.key;\n    let items = this._filterItems(this._options.items, val, prop);\n    return items.length ? items[0] : null;\n  }\n\n  _filterItems(items, val, prop) {\n    const matchCase = this._options.filterMatchCase;\n    return items.filter(v => {\n      if (typeof v[prop] === 'string' && typeof val === 'string') {\n        if (matchCase) return v[prop] === val;\n        return v[prop].toLowerCase() == val.toLowerCase();\n      }\n      return v[prop] == val;\n    });\n  }\n\n  _removeItem(key) {\n    this._vars.setItems.every((item, k) => {\n      if (item[this.key] === key) {\n        this.emit('removeToken', this, item);\n        this._vars.setItems.splice(k, 1);\n        this.emit('removedToken', this, item);\n        this.emit('change', this);\n        return false;\n      }\n      return true;\n    });\n    return this;\n  }\n\n  _addItem(item) {\n    item.focused = false;\n    let o = this._options;\n    // Check if item already exists in a given list.\n    if ((item.isNew && ! this._getItem(item[o.itemData], o.itemData)) ||\n      ! this._getItem(item[o.itemValue], o.itemValue)\n    ) {\n      this.emit('addToken', this, item);\n      if (! this._options.maxItems ||\n        (this._options.maxItems && this._vars.setItems.length < this._options.maxItems)\n      ) {\n        item.selected = false;\n        let clonedItem = Object.assign({}, item);\n        this._vars.setItems.push(clonedItem);\n        this.emit('addedToken', this, clonedItem);\n        this.emit('change', this);\n      }\n    }\n    return this;\n  }\n\n  getFocusedItem() {\n    let items = this._vars.setItems.filter(item => {\n      return item.focused;\n    })[0];\n    if (items.length) return items[0];\n    return null;\n  }\n\n  getFocusedItems() {\n    return this._vars.setItems.filter(item => {\n      return item.focused;\n    });\n  }\n\n  _focusItem(key, shift = false, ctrl = false, add = false) {\n    if (shift) {\n      let first = null;\n      let last = null;\n      let target = null;\n      let length = this._vars.setItems.length;\n      this._vars.setItems.forEach((item, k) => {\n        if (item[this.key] === key) {\n          target = k;\n        }\n        if (first === null && item.focused) {\n          first = k;\n        }\n        if (item.focused) {\n          last = k;\n        }\n      });\n\n      if ((target === 0 || target === length - 1) && first === null && last === null) {\n        return;\n      } else if (first === null && last === null) {\n        this._vars.setItems[target].focused = true;\n      } else if (target === 0 && last === length - 1 && ! add) {\n        this._vars.setItems[first].focused = false;\n      } else {\n        first = Math.min(target, first);\n        last = Math.max(target, last);\n        this._vars.setItems.forEach((item, k) => {\n          item.focused = target === k || (k >= first && k <= last);\n        });\n      }\n    } else {\n      this._vars.setItems.forEach(item => {\n        if (ctrl) {\n          item.focused = item[this.key] === key ? ! item.focused : item.focused;\n        } else {\n          item.focused = item[this.key] === key;\n        }\n      });\n    }\n    return this;\n  }\n\n  _defocusItem(key) {\n    return this._vars.setItems.filter(item => {\n      if (item[this.key] === key) {\n        item.focused = false;\n      }\n    });\n  }\n\n  _defocusItems() {\n    this._vars.setItems.forEach(item => {\n      item.focused = false;\n    });\n    return this;\n  }\n\n  _newItem(value) {\n    let o = this._options;\n\n    if (typeof value === 'string' &&\n      (!value.length || value.length < o.minLength)) return null;\n\n    let item = this._getItem(value, o.itemData) ||\n               this._getSuggestedItem(value, o.itemData) ||\n               this._getAvailableItem(value, o.itemData);\n\n    if (! item && o.newItems) {\n      // If validation is set and returns false - item should not be added.\n      if (typeof o.validateNewItem === 'function' && !o.validateNewItem(value)) {\n        return null;\n      }\n\n      item = {\n        isNew: true,\n        [this.key]: guid(),\n        [o.itemData]: value\n      };\n      this.emit('newToken', this, item);\n    }\n\n    if (item) {\n      this._addItem(item);\n      return item;\n    }\n\n    return null;\n  }\n\n  // Wrapper for build function in case some of the functions are overwritten.\n  _buildEl(html) {\n    return build(html);\n  }\n\n  _getBounds() {\n    return this._html.container.getBoundingClientRect();\n  }\n\n  _renderItems() {\n    let v = this._vars;\n    let o = this._options;\n    let html = this._html;\n\n    html.items.innerHTML = '';\n\n    v.setItems.forEach((item, k) => {\n      let itemEl = this._renderItem(item, k);\n      html.items.appendChild(itemEl);\n      item.el = itemEl;\n      if (item.focused) {\n        item.el.classList.add('focused');\n      } else {\n        item.el.classList.remove('focused');\n      }\n    });\n\n    if (v.setItems.length > 1 && o.mode === 'tokenfield') {\n      html.input.setAttribute('placeholder', '');\n    } else if (o.mode === 'list') {\n      html.input.setAttribute('placeholder', o.placeholder);\n    }\n\n    if (this._input) {\n      this._input.value = v.setItems.map(item => item[o.singleInputValue])\n        .join(o.singleInputDelimiter);\n    }\n\n    return this;\n  }\n\n  _refreshItems() {\n    let v = this._vars;\n\n    v.setItems.forEach(item => {\n      if (item.el) {\n        if (item.focused) {\n          item.el.classList.add('focused');\n        } else {\n          item.el.classList.remove('focused');\n        }\n      }\n    });\n  }\n\n  _renderItem(item, k) {\n    let o = this._options;\n\n    let itemHtml = this.renderSetItemHtml(item);\n    let label = itemHtml.querySelector('.item-label');\n    let input = itemHtml.querySelector('.item-input');\n    let remove = itemHtml.querySelector('.item-remove');\n    let position = o.keepItemsOrder ? `[${k}]` : '[]';\n\n    itemHtml.key = item[this.key];\n    remove.key = item[this.key];\n    input.setAttribute('name', (item.isNew ? o.newItemName : o.itemName) + position);\n\n    input.value = item[(item.isNew ? o.newItemValue : o.itemValue)] || null;\n    label.textContent = this.renderSetItemLabel(item);\n    if (item.focused) {\n      itemHtml.classList.add('focused');\n    }\n\n    return itemHtml;\n  }\n\n  onInput(value, e) {\n    return value;\n  }\n\n  renderSetItemHtml() {\n    return this._buildEl(this._templates.setItem);\n  }\n\n  renderSetItemLabel(item) {\n    return item[this._options.itemLabel];\n  }\n\n  renderSuggestions(items) {\n    let v = this._vars;\n    let o = this._options;\n    let html = this._html;\n    let index = this._getSelectedItemIndex();\n\n    if (! items.length) {\n      return this;\n    }\n\n    if (o.maxSuggestWindow === 0) {\n      html.suggest.style.maxHeight = null;\n    }\n\n    if (! v.suggestedItems.length) {\n      return this;\n    }\n\n    if (! o.newItems && index === null) {\n      items[0].selected = true;\n    }\n\n    let maxHeight = 0;\n\n    items.every((item, k) => {\n      if (k >= o.maxSuggest) return false;\n      let child = html.suggestList.childNodes[k];\n      let el = item.el = this.renderSuggestedItem(item);\n\n      if (child) {\n        if (child.itemValue === item[o.itemValue]) {\n          child.key = item[this.key];\n          item.el = child;\n        } else {\n          html.suggestList.replaceChild(el, child);\n        }\n      } else if (!child) {\n        html.suggestList.appendChild(el);\n      }\n\n      if (o.maxSuggestWindow > 0 && k < o.maxSuggestWindow) {\n        maxHeight += html.suggestList.childNodes[k].getBoundingClientRect().height;\n      }\n\n      if (o.maxSuggestWindow > 0 && k === o.maxSuggestWindow) {\n        html.suggest.style.maxHeight = maxHeight + 'px';\n      }\n\n      return true;\n    });\n\n    let overflow = html.suggestList.childElementCount - items.length;\n    if (overflow > 0) {\n      for (let i = overflow- 1; i >= 0; i--) {\n        html.suggestList.removeChild(html.suggestList.childNodes[items.length + i]);\n      }\n    }\n\n    return this;\n  }\n\n  renderSuggestedItem(item) {\n    let o = this._options;\n    let el = this._buildEl(this._templates.suggestItem);\n    el.key = item[this.key];\n    el.itemValue = item[o.itemValue];\n    el.innerHTML = this.renderSuggestedItemContent(item);\n    el.setAttribute('title', item[o.itemData]);\n    if (item.selected) {\n      el.classList.add('selected');\n    }\n    if (! o.filterSetItems) {\n      let setItem = this._getItem(item[o.itemValue], o.itemValue) ||\n        this._getItem(item[o.itemData], o.itemData);\n\n      if (setItem) {\n        el.classList.add('set');\n      }\n    }\n    return el;\n  }\n\n  renderSuggestedItemContent(item) {\n    return item[this._options.itemData];\n  }\n\n  _refreshSuggestions() {\n    let v = this._vars;\n    let o = this._options;\n\n    if (this._html.input.value.length < o.minChars) {\n      this.hideSuggestions();\n      return this;\n    }\n\n    let data = this._prepareData(o.items);\n    let items = this._filterData(this._html.input.value, data);\n    v.suggestedItems = o.filterSetItems ? this._filterSetItems(items) : items;\n\n    if (v.suggestedItems.length) {\n      if (! o.maxItems || (o.maxItems && v.setItems.length < o.maxItems)) {\n        this.renderSuggestions(v.suggestedItems);\n        return this;\n      }\n    }\n\n    this.hideSuggestions();\n    return this;\n  }\n\n  showSuggestions() {\n    let v = this._vars;\n    let o = this._options;\n\n    if (v.suggestedItems.length) {\n      this.emit('showSuggestions', this);\n      if (!o.maxItems || (o.maxItems && v.setItems.length < o.maxItems)) {\n        this._html.suggest.style.display = 'block';\n        v.suggested = true;\n        this.renderSuggestions(v.suggestedItems);\n      }\n      this.emit('shownSuggestions', this);\n    } else {\n      this.hideSuggestions();\n    }\n    return this;\n  }\n\n  hideSuggestions() {\n    this.emit('hideSuggestions', this);\n    this._vars.suggested = false;\n    this._html.suggest.style.display = 'none';\n    this._html.suggestList.innerHTML = '';\n    this.emit('hiddenSuggestions', this);\n    return this;\n  }\n\n  setSuggestedItems(items) {\n    if (!Array.isArray(items)) {\n      throw new Error('Argument must be an array of objects.');\n    }\n\n    this._options.items = items;\n    this._refreshSuggestions();\n  }\n\n  getItems() {\n    return this._vars.setItems.map(item => {\n      let v = Object.assign({}, item);\n      delete v[this.key];\n      delete v.el;\n      return v;\n    });\n  }\n\n  setItems(items = []) {\n    this._vars.setItems = [];\n    this.addItems(items);\n    return this;\n  }\n\n  addItems(items = []) {\n    const key = this._options.itemValue;\n    if (! Array.isArray(items)) {\n      items = [items];\n    }\n\n    this._prepareData(items).forEach((item) => {\n      if (item.isNew || typeof item[key] !== 'undefined') {\n        this._addItem(item);\n      }\n    });\n\n    this._minimizeInput()\n      ._renderItems()\n      ._refreshInput()\n      .hideSuggestions();\n\n    return this;\n  }\n\n  sortItems() {\n    let items = [];\n\n    [...this._html.items.childNodes].forEach(el => {\n      let item = this._getItem(el.key);\n      if (item) {\n        items.push(item);\n      }\n    });\n\n    this.setItems(items);\n  }\n\n  removeItem(value) {\n    const o = this._options;\n    if (typeof value === 'object' &&\n      (value[o.itemValue] || value[o.newItemValue])\n    ) {\n      value = value[o.itemValue] || value[o.newItemValue];\n    }\n\n    let item = this._getItem(value, o.itemValue) ||\n               this._getItem(value, o.newItemValue);\n\n    if (! item) {\n      return this;\n    }\n\n    this._removeItem(item[this.key])._renderItems();\n\n    return this;\n  }\n\n  emptyItems() {\n    this._vars.setItems = [];\n    this._renderItems()\n      ._refreshInput()\n      .hideSuggestions();\n    this.emit('change', this);\n    return this;\n  }\n\n  getSuggestedItems() {\n    return this._vars.suggestedItems.map(item => {\n      return Object.assign({}, item);\n    });\n  }\n\n  focus() {\n    this._html.container.classList.add('focused');\n    if (! this._focused) this._html.input.focus();\n    return this;\n  }\n\n  blur() {\n    this._html.container.classList.remove('focused');\n    if (this._focused) this._html.input.blur();\n    return this;\n  }\n\n  remove() {\n    let html = this._html;\n\n    html.container.parentElement.insertBefore(this.el, html.container);\n    html.container.remove();\n    this.el.style.display = 'block';\n\n    if (Object.keys(_tokenfields).length === 1) {\n      document.removeEventListener('mousedown', this._vars.events.onMouseDown);\n      window.removeEventListener('resize', this._vars.events.onResize);\n    }\n\n    if (this._form && this._form.nodeName) {\n      this._form.removeEventListener('reset', this._vars.events.onReset);\n    }\n\n    delete _tokenfields[this.id];\n    delete this.el.tokenfield;\n  }\n}\n\nexport default Tokenfield;\n","import 'url-search-params-polyfill'\nimport 'fetch-polyfill'\nimport autoComplete from '@tarekraafat/autocomplete.js'\nimport Tokenfield from 'tokenfield'\n\n\n(function() {\n  var inputElementId = \"report_summary\"\n  var inputElement = document.getElementById(inputElementId)\n  new autoComplete({\n    trigger: {\n      event: ['input'],\n    },\n    data: {\n      src: function() {\n        var query = inputElement.value.toLowerCase()\n        return fetch('/team/picklists/.json?type=report_summary&name=' + query).then(function(response) {\n          return response.json().then(function(parsed) {\n            return parsed.results.map(function(item) { return { 'value': item['name'], 'text': item['text'] }})\n          })\n        })\n      },\n      key: [\"value\"],\n      cache: false\n    },\n    selector: \"#\" + inputElementId,\n    threshold: 1,\n    debounce: 300,\n    resultsList: {\n      render: true,\n      element: 'table',\n      // when version 8 is released we can remove this: https://github.com/TarekRaafat/autoComplete.js/issues/105\n      container: source => {\n        source.setAttribute('id', 'autoComplete_list');\n        inputElement.addEventListener('autoComplete', function (event) {\n          function hideSearchResults() {\n            var searchResults = document.getElementById('autoComplete_list');\n            while (searchResults.firstChild) {\n                searchResults.removeChild(searchResults.firstChild);\n            }\n            document.removeEventListener('click', hideSearchResults);\n          }\n          document.addEventListener('click', hideSearchResults);\n        })\n      },\n    },\n    resultItem: {\n      content: function(data, source) {\n        source.innerHTML = (\n            '<td>' +\n                '<div class=\"govuk-heading-s govuk-!-margin-0\">' + data.value.value + '</div>' +\n                '<div class=\"govuk-caption-xs govuk-!-margin-0\">' + data.value.text + '</div>' +\n            '</td>'\n        )\n      },\n      element: \"tr\"\n    },\n    searchEngine: function(query, record) {\n        return record\n    },\n    onSelection: feedback => {\n        inputElement.value = feedback.selection.value.text\n    },\n    maxResults: 15\n  });\n\n  var controlListEntriesField = document.getElementById('control_list_entries')\n  var controlRationgField = document.getElementById('control_rating')\n\n  controlRationgField.style.display = 'none';\n\n  progressivelyEnhanceMultipleSelectField(controlRationgField)\n\n  // adding place for \"rating may need alternative CLC\"\n  var controlListEntriesTokenFieldInfo = document.createElement('div')\n  controlListEntriesField.parentElement.appendChild(controlListEntriesTokenFieldInfo)\n\n  var controlListEntriesTokenField = progressivelyEnhanceMultipleSelectField(controlListEntriesField)\n\n  // faking the feature so we can get user fedback: for some ratings show the message about alternative CLCs\n  controlListEntriesTokenField.on('change', function(tokenField) {\n    var note = \" may need an alternative control list entry because of its destination\"\n    var messages = tokenField.getItems()\n      .filter(function(item) { return item.name.match(/[a-zA-Z]$/) !== null })\n      .map(function(item) { return \"<div>\" + item.name + note + \"</div>\"})\n    if (messages.length > 0) {\n      controlListEntriesTokenFieldInfo.innerHTML = \"<div class='govuk-inset-text'>\" + messages.join('') + \"</div>\"\n    } else {\n      controlListEntriesTokenFieldInfo.innerHTML = \"\"\n    }\n  })\n\n  function progressivelyEnhanceMultipleSelectField(element) {\n    element.parentElement.classList.add('tokenfield-container')\n\n    var items = []\n    var selected = []\n    for (var i = 0; i < element.options.length; i++) {\n      var option = element.options.item(i)\n      var item = {'id': option.value, 'name': option.value, 'classes': []}\n      if (option.selected) {\n          selected.push(item)\n      }\n      items.push(item)\n    }\n    var tokenField = new Tokenfield({\n      el: element,\n      items: items,\n      newItems: false,\n      addItemOnBlur: true,\n      filterSetItems: false,\n      addItemsOnPaste: true,\n      minChars: 1,\n      itemName: element.name,\n      setItems: selected\n    });\n\n    tokenField._renderItem = function() {\n      // the library appends '[]' to the end, django does not like that, so remove it here\n      var itemHtml = Tokenfield.prototype._renderItem.apply(this, arguments)\n      const input = itemHtml.querySelector('.item-input');\n      input.setAttribute('name', input.name.replace('[]', ''));\n      return itemHtml\n    }\n    tokenField._renderItems()\n    tokenField._html.container.id = element.id\n    element.remove()\n    return tokenField\n  }\n})()\n"]}